{"ast":null,"code":"var _jsxFileName = \"/Users/justinlong/Documents/react/code-note2/frontend/src/components/TextEditor.js\";\nimport React, { useState, useMemo, useCallback } from 'react';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/javascript';\nimport 'brace/mode/python';\nimport 'brace/theme/monokai';\nimport isHotkey from 'is-hotkey';\nimport _ from 'lodash'; // Slate\n\nimport { Editable, withReact, Slate } from 'slate-react';\nimport { Editor, createEditor, Transforms } from 'slate'; // Material UI\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport FormatUnderlineIcon from '@material-ui/icons/FormatUnderlined';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport { useSelector } from 'react-redux';\nconst useStyles = makeStyles(theme => ({\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  }\n}));\n\nconst TextEditor = () => {\n  const classes = useStyles();\n  const selectedNote = useSelector(state => state.selectedNote);\n  const [value, setValue] = useState(_.isEmpty(selectedNote) ? initialValue : selectedNote.content);\n  const [language, setLanguage] = useState('javascript');\n  const [open, setOpen] = useState(false);\n  const editor = useMemo(() => withReact(createEditor()), []);\n  const renderLeaf = useCallback(props => /*#__PURE__*/React.createElement(Leaf, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 47\n    }\n  })), []);\n  const renderElement = useCallback(props => /*#__PURE__*/React.createElement(Element, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 50\n    }\n  })), []);\n\n  const handleChange = event => {\n    setLanguage(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const Element = props => {\n    const {\n      attributes,\n      children,\n      element\n    } = props;\n\n    switch (element.type) {\n      case 'code':\n        return /*#__PURE__*/React.createElement(AceElement, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 24\n          }\n        }));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"p\", Object.assign({}, attributes, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 24\n          }\n        }), children);\n    }\n  };\n\n  const AceElement = ({\n    attributes,\n    children,\n    element\n  }) => {\n    const onClick = () => {\n      Editor.insertNode(editor, {\n        children: [{\n          text: ''\n        }]\n      });\n    };\n\n    const onChange = newValue => {};\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      contentEditable: false,\n      style: {\n        marginLeft: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AceEditor, {\n      id: \"justin\",\n      height: \"250px\",\n      mode: element.language,\n      theme: \"monokai\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", Object.assign({}, attributes, {\n      style: {\n        marginLeft: '10px',\n        marginRight: '10px'\n      },\n      onClick: onClick,\n      contentEditable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }), children));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: 'white',\n      minHeight: '50vh',\n      width: '50vw'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Slate, {\n    editor: editor,\n    value: value,\n    onChange: newValue => setValue(newValue),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    onMouseDown: event => {\n      event.preventDefault();\n      toggleMark(editor, 'bold');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormatBoldIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    onMouseDown: event => {\n      event.preventDefault();\n      toggleMark(editor, 'underline');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormatUnderlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormatItalicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: event => {\n      event.preventDefault();\n      toggleBlock(editor, 'code', language);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, \"Add Editor\"), /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, \"Language\"), /*#__PURE__*/React.createElement(Select, {\n    value: language,\n    onChange: handleChange,\n    onClose: handleClose,\n    onOpen: handleOpen,\n    labelId: \"demo-controlled-open-select-label\",\n    id: \"demo-controlled-open-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"javascript\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 33\n    }\n  }, \"Javascript\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, \"HTML\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"python\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }\n  }, \"Python\"))), /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Editable, {\n    renderElement: renderElement,\n    renderLeaf: renderLeaf,\n    onKeyDown: event => {\n      if (isHotkey('mod+s', event)) {\n        event.preventDefault();\n        axios.post('/updateNote', {\n          _id: selectedNote\n        });\n      }\n    },\n    placeholder: \"Enter some text...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  })));\n};\n\nconst toggleMark = (editor, format) => {\n  const isActive = isMarkActive(editor, format);\n\n  if (isActive) {\n    Editor.removeMark(editor, format);\n  } else {\n    Editor.addMark(editor, format, true);\n  }\n};\n\nconst toggleBlock = (editor, format, language) => {\n  const isActive = isBlockActive(editor, format);\n  Transforms.setNodes(editor, {\n    type: isActive ? 'default' : 'code',\n    language\n  });\n};\n\nconst isMarkActive = (editor, format) => {\n  const marks = Editor.marks(editor);\n  return marks ? marks[format] === true : false;\n};\n\nconst isBlockActive = (editor, format) => {\n  const [match] = Editor.nodes(editor, {\n    match: n => n.type === format\n  });\n  return !!match;\n};\n\nconst Leaf = ({\n  attributes,\n  children,\n  leaf\n}) => {\n  if (leaf.bold) {\n    children = /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 20\n      }\n    }, children);\n  }\n\n  if (leaf.italic) {\n    children = /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 20\n      }\n    }, children);\n  }\n\n  if (leaf.underline) {\n    children = /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 20\n      }\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, attributes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 12\n    }\n  }), children);\n};\n\nconst initialValue = [{\n  children: [{\n    text: 'Starter Text'\n  }]\n}];\nexport default TextEditor;","map":{"version":3,"sources":["/Users/justinlong/Documents/react/code-note2/frontend/src/components/TextEditor.js"],"names":["React","useState","useMemo","useCallback","AceEditor","isHotkey","_","Editable","withReact","Slate","Editor","createEditor","Transforms","makeStyles","AppBar","Toolbar","Button","IconButton","FormatBoldIcon","FormatItalicIcon","FormatUnderlineIcon","InputLabel","MenuItem","FormControl","Select","TextField","useSelector","useStyles","theme","menuButton","marginRight","spacing","formControl","margin","minWidth","TextEditor","classes","selectedNote","state","value","setValue","isEmpty","initialValue","content","language","setLanguage","open","setOpen","editor","renderLeaf","props","renderElement","handleChange","event","target","handleClose","handleOpen","Element","attributes","children","element","type","AceElement","onClick","insertNode","text","onChange","newValue","marginLeft","backgroundColor","minHeight","width","preventDefault","toggleMark","toggleBlock","axios","post","_id","format","isActive","isMarkActive","removeMark","addMark","isBlockActive","setNodes","marks","match","nodes","n","Leaf","leaf","bold","italic","underline"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/javascript';\nimport 'brace/mode/python';\nimport 'brace/theme/monokai';\nimport isHotkey from 'is-hotkey';\nimport _ from 'lodash'\n\n// Slate\nimport { Editable, withReact, Slate } from 'slate-react';\nimport { Editor, createEditor, Transforms } from 'slate';\n\n// Material UI\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport FormatUnderlineIcon from '@material-ui/icons/FormatUnderlined';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\n\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst TextEditor = () => {\n    const classes = useStyles();\n    const selectedNote = useSelector((state) => state.selectedNote);\n\n    const [value, setValue] = useState(\n         _.isEmpty(selectedNote) ? initialValue : selectedNote.content\n    );\n    const [language, setLanguage] = useState('javascript');\n    const [open, setOpen] = useState(false);\n\n    const editor = useMemo(() => withReact(createEditor()), []);\n    const renderLeaf = useCallback((props) => <Leaf {...props} />, []);\n    const renderElement = useCallback((props) => <Element {...props} />, []);\n\n    const handleChange = (event) => {\n        setLanguage(event.target.value);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const Element = (props) => {\n        const { attributes, children, element } = props;\n        switch (element.type) {\n            case 'code':\n                return <AceElement {...props} />;\n            default:\n                return <p {...attributes}>{children}</p>;\n        }\n    };\n\n    const AceElement = ({ attributes, children, element }) => {\n        const onClick = () => {\n            Editor.insertNode(editor, {\n                children: [{ text: '' }],\n            });\n        };\n\n        const onChange = (newValue) => {};\n\n        return (\n            <>\n                <div contentEditable={false} style={{ marginLeft: '10px' }}>\n                    <AceEditor\n                        id=\"justin\"\n                        height=\"250px\"\n                        mode={element.language}\n                        theme=\"monokai\"\n                        onChange={onChange}\n                    />\n                </div>\n                <p\n                    {...attributes}\n                    style={{ marginLeft: '10px', marginRight: '10px' }}\n                    onClick={onClick}\n                    contentEditable={false}\n                >\n                    {children}\n                </p>\n            </>\n        );\n    };\n\n    return (\n        <div\n            style={{\n                backgroundColor: 'white',\n                minHeight: '50vh',\n                width: '50vw',\n            }}\n        >\n            <Slate\n                editor={editor}\n                value={value}\n                onChange={(newValue) => setValue(newValue)}\n            >\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"menu\"\n                            onMouseDown={(event) => {\n                                event.preventDefault();\n                                toggleMark(editor, 'bold');\n                            }}\n                        >\n                            <FormatBoldIcon />\n                        </IconButton>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"menu\"\n                            onMouseDown={(event) => {\n                                event.preventDefault();\n                                toggleMark(editor, 'underline');\n                            }}\n                        >\n                            <FormatUnderlineIcon />\n                        </IconButton>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"menu\"\n                        >\n                            <FormatItalicIcon />\n                        </IconButton>\n                        <Button\n                            variant=\"contained\"\n                            onClick={(event) => {\n                                event.preventDefault();\n                                toggleBlock(editor, 'code', language);\n                            }}\n                        >\n                            Add Editor\n                        </Button>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel>Language</InputLabel>\n                            <Select\n                                value={language}\n                                onChange={handleChange}\n                                onClose={handleClose}\n                                onOpen={handleOpen}\n                                labelId=\"demo-controlled-open-select-label\"\n                                id=\"demo-controlled-open-select\"\n                            >\n                                <MenuItem value=\"javascript\">\n                                    Javascript\n                                </MenuItem>\n                                <MenuItem value=\"html\">HTML</MenuItem>\n                                <MenuItem value=\"python\">Python</MenuItem>\n                            </Select>\n                        </FormControl>\n                        <TextField id=\"standard-basic\" label=\"Title\" />\n                    </Toolbar>\n                </AppBar>\n                <Editable\n                    renderElement={renderElement}\n                    renderLeaf={renderLeaf}\n                    onKeyDown={(event) => {\n                        if (isHotkey('mod+s', event)) {\n                            event.preventDefault();\n                            axios.post('/updateNote', {\n                                _id: selectedNote\n                            })\n                        }\n                    }}\n                    placeholder=\"Enter some text...\"\n                />\n            </Slate>\n        </div>\n    );\n};\n\nconst toggleMark = (editor, format) => {\n    const isActive = isMarkActive(editor, format);\n\n    if (isActive) {\n        Editor.removeMark(editor, format);\n    } else {\n        Editor.addMark(editor, format, true);\n    }\n};\n\nconst toggleBlock = (editor, format, language) => {\n    const isActive = isBlockActive(editor, format);\n\n    Transforms.setNodes(editor, {\n        type: isActive ? 'default' : 'code',\n        language,\n    });\n};\n\nconst isMarkActive = (editor, format) => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n};\n\nconst isBlockActive = (editor, format) => {\n    const [match] = Editor.nodes(editor, {\n        match: (n) => n.type === format,\n    });\n\n    return !!match;\n};\n\nconst Leaf = ({ attributes, children, leaf }) => {\n    if (leaf.bold) {\n        children = <strong>{children}</strong>;\n    }\n\n    if (leaf.italic) {\n        children = <em>{children}</em>;\n    }\n\n    if (leaf.underline) {\n        children = <u>{children}</u>;\n    }\n\n    return <span {...attributes}>{children}</span>;\n};\n\nconst initialValue = [\n    {\n        children: [\n            {\n                text: 'Starter Text',\n            },\n        ],\n    },\n];\n\nexport default TextEditor;\n"]},"metadata":{},"sourceType":"module"}