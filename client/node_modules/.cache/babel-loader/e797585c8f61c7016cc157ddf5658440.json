{"ast":null,"code":"import _objectSpread from\"/Users/justinlong/Documents/react/code-note2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/justinlong/Documents/react/code-note2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo,useCallback,useEffect}from'react';import{Redirect}from'react-router-dom';import AceEditor from'react-ace';import'brace/mode/javascript';import'brace/mode/python';import'brace/mode/html';import'brace/mode/mysql';import'brace/theme/monokai';import isHotkey from'is-hotkey';import _ from'lodash';import axios from'axios';import{debounce}from'../utils/helpers';// Slate\nimport{Editable,withReact,Slate}from'slate-react';import{Editor,createEditor,Transforms}from'slate';// Material UI\nimport AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Button from'@material-ui/core/Button';import IconButton from'@material-ui/core/IconButton';import FormatBoldIcon from'@material-ui/icons/FormatBold';import FormatItalicIcon from'@material-ui/icons/FormatItalic';import FormatUnderlineIcon from'@material-ui/icons/FormatUnderlined';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import SaveIcon from'@material-ui/icons/Save';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import TextField from'@material-ui/core/TextField';import CircularProgress from'@material-ui/core/CircularProgress';import useStyles from'../CSS/textEditorStyles';import{setCurEditorValue,updateNotesInFolder}from'../actions/noteActions';import{useSelector,useDispatch}from'react-redux';import{Typography}from'@material-ui/core';var TextEditor=function TextEditor(){var classes=useStyles();var dispatch=useDispatch();var selectedNote=useSelector(function(state){return state.notes.selectedNote;});var noteJSON=useSelector(function(state){return state.notes.curEditorJSON;});var _useState=useState('javascript'),_useState2=_slicedToArray(_useState,2),language=_useState2[0],setLanguage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),bold=_useState6[0],setBold=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),underline=_useState8[0],setUnderline=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),italic=_useState10[0],setItalic=_useState10[1];var _useState11=useState(selectedNote.title),_useState12=_slicedToArray(_useState11,2),noteTitle=_useState12[0],setNoteTitle=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),updateTitleCheck=_useState14[0],setUpdateTitleCheck=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),saveCheck=_useState16[0],setSaveCheck=_useState16[1];var _useState17=useState(noNoteText),_useState18=_slicedToArray(_useState17,2),tempValue=_useState18[0],setTempValue=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),redirectToHome=_useState20[0],setRedirectToHome=_useState20[1];var editor=useMemo(function(){return withReact(createEditor());},[]);var renderLeaf=useCallback(function(props){return/*#__PURE__*/React.createElement(Leaf,props);},[]);var renderElement=useCallback(function(props){return/*#__PURE__*/React.createElement(Element,props);},[]);useEffect(function(){if(!_.isEmpty(selectedNote)){dispatch(setCurEditorValue(JSON.parse(selectedNote.content)));}setBold(false);setUnderline(false);setItalic(false);setNoteTitle(selectedNote.title);},[selectedNote]);var handleChange=function handleChange(event){setLanguage(event.target.value);};var handleClose=function handleClose(){setOpen(false);};var handleOpen=function handleOpen(){setOpen(true);};var handleTitleChange=function handleTitleChange(event){setNoteTitle(event.target.value);debounce(function(){axios.post('/updateNote',{id:selectedNote._id,content:selectedNote.content,title:noteTitle}).then(function(res){console.log(res);});},1000);setUpdateTitleCheck(false);};var updateTitle=debounce(function(value){axios.post('/updateNote',{id:selectedNote._id,content:selectedNote.content,title:value}).then(function(res){console.log(res);});setUpdateTitleCheck(false);},3000);var logout=function logout(){axios.get('/logout').then(function(res){return res.data;}).then(function(data){if(data.logout){setRedirectToHome(true);}});};var Element=function Element(props){var attributes=props.attributes,children=props.children,element=props.element;switch(element.type){case'code':return/*#__PURE__*/React.createElement(AceElement,props);default:return/*#__PURE__*/React.createElement(\"p\",Object.assign({style:{fontSize:'16px'}},attributes),children);}};var AceElement=function AceElement(_ref){var attributes=_ref.attributes,children=_ref.children,element=_ref.element;var noteJSON2=useSelector(function(state){return state.notes.curEditorJSON;});var updatedCode=[];var onClick=function onClick(){Editor.insertNode(editor,{children:[{text:''}]});};var handleCodeChange=debounce(function(newValue,editorId){updatedCode=noteJSON2.map(function(node){return node.editorId===editorId?_objectSpread({},node,{editorValue:newValue}):_objectSpread({},node);});dispatch(setCurEditorValue(updatedCode));},1500);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{contentEditable:false,style:{marginLeft:'10px'}},/*#__PURE__*/React.createElement(AceEditor,{height:\"250px\",width:\"600px\",fontSize:\"14px\",mode:element.language,theme:\"monokai\",value:element.editorValue,onChange:function onChange(newValue){return handleCodeChange(newValue,element.editorId);}})),/*#__PURE__*/React.createElement(\"p\",Object.assign({},attributes,{style:{marginLeft:'10px',marginRight:'10px'},onClick:onClick,contentEditable:false}),children));};return/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#fff',minHeight:'50vh',width:'50vw'}},' ',redirectToHome?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(Slate,{editor:editor,value:_.isEmpty(selectedNote)?tempValue:noteJSON,onChange:function onChange(newValue){if(_.isEmpty(selectedNote)){setTempValue(newValue);}else{dispatch(setCurEditorValue(newValue));}}},/*#__PURE__*/React.createElement(AppBar,{position:\"static\"},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",className:classes.markButtons,onMouseDown:function onMouseDown(event){event.preventDefault();setBold(!bold);toggleMark(editor,'bold');}},/*#__PURE__*/React.createElement(FormatBoldIcon,{className:bold?classes.marksSelected:classes.marks})),/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",className:classes.markButtons,onMouseDown:function onMouseDown(event){event.preventDefault();setUnderline(!underline);toggleMark(editor,'underline');}},/*#__PURE__*/React.createElement(FormatUnderlineIcon,{className:underline?classes.marksSelected:classes.marks})),/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",className:classes.markButtons,onMouseDown:function onMouseDown(event){event.preventDefault();setItalic(!italic);toggleMark(editor,'italic');}},/*#__PURE__*/React.createElement(FormatItalicIcon,{className:italic?classes.marksSelected:classes.marks})),/*#__PURE__*/React.createElement(FormControl,{className:classes.editorLangForm},/*#__PURE__*/React.createElement(InputLabel,{style:{}},\"Language\"),/*#__PURE__*/React.createElement(Select,{value:language,onChange:handleChange,onClose:handleClose,onOpen:handleOpen,labelId:\"demo-controlled-open-select-label\",id:\"demo-controlled-open-select\",style:{marginRight:'10px'}},/*#__PURE__*/React.createElement(MenuItem,{value:\"javascript\"},\"Javascript\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"html\"},\"HTML\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"python\"},\"Python\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"mysql\"},\"SQL\"))),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:function onClick(event){event.preventDefault();toggleBlock(editor,'code',language);},className:classes.addEditor,disableElevation:true},/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",className:classes.addEditorTxt},\"Add Editor\")),/*#__PURE__*/React.createElement(TextField,{id:\"standard-basic\",label:\"Title\",defaultValue:noteTitle,style:{marginRight:'10px'},onChange:function onChange(e){setUpdateTitleCheck(true);updateTitle(e.target.value);},className:classes.editorLangForm}),/*#__PURE__*/React.createElement(CircularProgress,{className:updateTitleCheck?classes.updatingTitle:classes.notUpdatingTitle,size:20}),/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",className:classes.markButtons,style:{marginLeft:'1vw'},onClick:function onClick(){if(_.isEmpty(selectedNote)){return;}setSaveCheck(true);axios.post('/updateNote',{id:selectedNote._id,content:JSON.stringify(noteJSON),title:selectedNote.title}).then(function(res){console.log(res);});setTimeout(function(){setSaveCheck(false);},1000);}},/*#__PURE__*/React.createElement(SaveIcon,{className:classes.marks})),/*#__PURE__*/React.createElement(CircularProgress,{className:saveCheck?classes.saving:classes.notSaving,size:20}),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return logout();},className:classes.markButtons},/*#__PURE__*/React.createElement(ExitToAppIcon,{className:classes.marks})))),/*#__PURE__*/React.createElement(Editable,{renderElement:renderElement,renderLeaf:renderLeaf,onKeyDown:function onKeyDown(event){if(isHotkey('mod+s',event)){event.preventDefault();setSaveCheck(true);axios.post('/updateNote',{id:selectedNote._id,content:JSON.stringify(noteJSON)}).then(function(res){console.log(res);});setTimeout(function(){setSaveCheck(false);},1000);}}})));};var toggleMark=function toggleMark(editor,format){var isActive=isMarkActive(editor,format);if(isActive){Editor.removeMark(editor,format);}else{Editor.addMark(editor,format,true);}};var toggleBlock=function toggleBlock(editor,format,language){var isActive=isBlockActive(editor,format);var editorId=Math.floor(Math.random()*1000+1);Transforms.setNodes(editor,{type:isActive?'default':'code',language:language,editorValue:'starter',editorId:editorId});};var isMarkActive=function isMarkActive(editor,format){var marks=Editor.marks(editor);return marks?marks[format]===true:false;};var isBlockActive=function isBlockActive(editor,format){var _Editor$nodes=Editor.nodes(editor,{match:function match(n){return n.type===format;}}),_Editor$nodes2=_slicedToArray(_Editor$nodes,1),match=_Editor$nodes2[0];return!!match;};var Leaf=function Leaf(_ref2){var attributes=_ref2.attributes,children=_ref2.children,leaf=_ref2.leaf;if(leaf.bold){children=/*#__PURE__*/React.createElement(\"strong\",null,children);}if(leaf.italic){children=/*#__PURE__*/React.createElement(\"em\",null,children);}if(leaf.underline){children=/*#__PURE__*/React.createElement(\"u\",null,children);}return/*#__PURE__*/React.createElement(\"span\",attributes,children);};var noNoteText=[{children:[{text:'No note selected - Changes will not be saved'}]}];export default TextEditor;","map":{"version":3,"sources":["/Users/justinlong/Documents/react/code-note2/frontend/src/components/TextEditor.js"],"names":["React","useState","useMemo","useCallback","useEffect","Redirect","AceEditor","isHotkey","_","axios","debounce","Editable","withReact","Slate","Editor","createEditor","Transforms","AppBar","Toolbar","Button","IconButton","FormatBoldIcon","FormatItalicIcon","FormatUnderlineIcon","ExitToAppIcon","SaveIcon","InputLabel","MenuItem","FormControl","Select","TextField","CircularProgress","useStyles","setCurEditorValue","updateNotesInFolder","useSelector","useDispatch","Typography","TextEditor","classes","dispatch","selectedNote","state","notes","noteJSON","curEditorJSON","language","setLanguage","open","setOpen","bold","setBold","underline","setUnderline","italic","setItalic","title","noteTitle","setNoteTitle","updateTitleCheck","setUpdateTitleCheck","saveCheck","setSaveCheck","noNoteText","tempValue","setTempValue","redirectToHome","setRedirectToHome","editor","renderLeaf","props","renderElement","isEmpty","JSON","parse","content","handleChange","event","target","value","handleClose","handleOpen","handleTitleChange","post","id","_id","then","res","console","log","updateTitle","logout","get","data","Element","attributes","children","element","type","fontSize","AceElement","noteJSON2","updatedCode","onClick","insertNode","text","handleCodeChange","newValue","editorId","map","node","editorValue","marginLeft","marginRight","backgroundColor","minHeight","width","markButtons","preventDefault","toggleMark","marksSelected","marks","editorLangForm","toggleBlock","addEditor","addEditorTxt","e","updatingTitle","notUpdatingTitle","stringify","setTimeout","saving","notSaving","format","isActive","isMarkActive","removeMark","addMark","isBlockActive","Math","floor","random","setNodes","nodes","match","n","Leaf","leaf"],"mappings":"uVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,OAA1B,CAAmCC,WAAnC,CAAgDC,SAAhD,KAAiE,OAAjE,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,MAAO,uBAAP,CACA,MAAO,mBAAP,CACA,MAAO,iBAAP,CACA,MAAO,kBAAP,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA;AACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,KAA9B,KAA2C,aAA3C,CACA,OAASC,MAAT,CAAiBC,YAAjB,CAA+BC,UAA/B,KAAiD,OAAjD,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,qCAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,OAASC,iBAAT,CAA4BC,mBAA5B,KAAuD,wBAAvD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,mBAA3B,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CACA,GAAMQ,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,YAAY,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,CAAYF,YAAvB,EAAD,CAAhC,CACA,GAAMG,CAAAA,QAAQ,CAAGT,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,CAAYE,aAAvB,EAAD,CAA5B,CAJqB,cAMW5C,QAAQ,CAAC,YAAD,CANnB,wCAMd6C,QANc,eAMJC,WANI,8BAOG9C,QAAQ,CAAC,KAAD,CAPX,yCAOd+C,IAPc,eAORC,OAPQ,8BAQGhD,QAAQ,CAAC,KAAD,CARX,yCAQdiD,IARc,eAQRC,OARQ,8BASalD,QAAQ,CAAC,KAAD,CATrB,yCASdmD,SATc,eASHC,YATG,8BAUOpD,QAAQ,CAAC,KAAD,CAVf,0CAUdqD,MAVc,gBAUNC,SAVM,gCAWatD,QAAQ,CAACwC,YAAY,CAACe,KAAd,CAXrB,2CAWdC,SAXc,gBAWHC,YAXG,gCAY2BzD,QAAQ,CAAC,KAAD,CAZnC,2CAYd0D,gBAZc,gBAYIC,mBAZJ,gCAaa3D,QAAQ,CAAC,KAAD,CAbrB,2CAad4D,SAbc,gBAaHC,YAbG,gCAca7D,QAAQ,CAAC8D,UAAD,CAdrB,2CAcdC,SAdc,gBAcHC,YAdG,gCAeuBhE,QAAQ,CAAC,KAAD,CAf/B,2CAediE,cAfc,gBAeEC,iBAfF,gBAiBrB,GAAMC,CAAAA,MAAM,CAAGlE,OAAO,CAAC,iBAAMU,CAAAA,SAAS,CAACG,YAAY,EAAb,CAAf,EAAD,CAAkC,EAAlC,CAAtB,CACA,GAAMsD,CAAAA,UAAU,CAAGlE,WAAW,CAAC,SAACmE,KAAD,qBAAW,oBAAC,IAAD,CAAUA,KAAV,CAAX,EAAD,CAAiC,EAAjC,CAA9B,CACA,GAAMC,CAAAA,aAAa,CAAGpE,WAAW,CAAC,SAACmE,KAAD,qBAAW,oBAAC,OAAD,CAAaA,KAAb,CAAX,EAAD,CAAoC,EAApC,CAAjC,CAEAlE,SAAS,CAAC,UAAM,CACZ,GAAI,CAACI,CAAC,CAACgE,OAAF,CAAU/B,YAAV,CAAL,CAA8B,CAC1BD,QAAQ,CAACP,iBAAiB,CAACwC,IAAI,CAACC,KAAL,CAAWjC,YAAY,CAACkC,OAAxB,CAAD,CAAlB,CAAR,CACH,CACDxB,OAAO,CAAC,KAAD,CAAP,CACAE,YAAY,CAAC,KAAD,CAAZ,CACAE,SAAS,CAAC,KAAD,CAAT,CACAG,YAAY,CAACjB,YAAY,CAACe,KAAd,CAAZ,CACH,CARQ,CAQN,CAACf,YAAD,CARM,CAAT,CAUA,GAAMmC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5B9B,WAAW,CAAC8B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACH,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB/B,OAAO,CAAC,KAAD,CAAP,CACH,CAFD,CAIA,GAAMgC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBhC,OAAO,CAAC,IAAD,CAAP,CACH,CAFD,CAIA,GAAMiC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACL,KAAD,CAAW,CACjCnB,YAAY,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACArE,QAAQ,CAAC,UAAM,CACXD,KAAK,CACA0E,IADL,CACU,aADV,CACyB,CACjBC,EAAE,CAAE3C,YAAY,CAAC4C,GADA,CAEjBV,OAAO,CAAElC,YAAY,CAACkC,OAFL,CAGjBnB,KAAK,CAAEC,SAHU,CADzB,EAMK6B,IANL,CAMU,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CARL,EASH,CAVO,CAUL,IAVK,CAAR,CAWA3B,mBAAmB,CAAC,KAAD,CAAnB,CACH,CAdD,CAgBA,GAAM8B,CAAAA,WAAW,CAAGhF,QAAQ,CAAC,SAACqE,KAAD,CAAW,CACpCtE,KAAK,CACA0E,IADL,CACU,aADV,CACyB,CACjBC,EAAE,CAAE3C,YAAY,CAAC4C,GADA,CAEjBV,OAAO,CAAElC,YAAY,CAACkC,OAFL,CAGjBnB,KAAK,CAAEuB,KAHU,CADzB,EAMKO,IANL,CAMU,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CARL,EASA3B,mBAAmB,CAAC,KAAD,CAAnB,CACH,CAX2B,CAWzB,IAXyB,CAA5B,CAaA,GAAM+B,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBlF,KAAK,CACAmF,GADL,CACS,SADT,EAEKN,IAFL,CAEU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACM,IAAb,EAFV,EAGKP,IAHL,CAGU,SAACO,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACF,MAAT,CAAiB,CACbxB,iBAAiB,CAAC,IAAD,CAAjB,CACH,CACJ,CAPL,EAQH,CATD,CAWA,GAAM2B,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACxB,KAAD,CAAW,IACfyB,CAAAA,UADe,CACmBzB,KADnB,CACfyB,UADe,CACHC,QADG,CACmB1B,KADnB,CACH0B,QADG,CACOC,OADP,CACmB3B,KADnB,CACO2B,OADP,CAEvB,OAAQA,OAAO,CAACC,IAAhB,EACI,IAAK,MAAL,CACI,mBAAO,oBAAC,UAAD,CAAgB5B,KAAhB,CAAP,CACJ,QACI,mBACI,uCAAG,KAAK,CAAE,CAAE6B,QAAQ,CAAE,MAAZ,CAAV,EAAoCJ,UAApC,EACKC,QADL,CADJ,CAJR,CAUH,CAZD,CAcA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAuC,IAApCL,CAAAA,UAAoC,MAApCA,UAAoC,CAAxBC,QAAwB,MAAxBA,QAAwB,CAAdC,OAAc,MAAdA,OAAc,CACtD,GAAMI,CAAAA,SAAS,CAAGlE,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,CAAYE,aAAvB,EAAD,CAA7B,CACA,GAAIyD,CAAAA,WAAW,CAAG,EAAlB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClBzF,MAAM,CAAC0F,UAAP,CAAkBpC,MAAlB,CAA0B,CACtB4B,QAAQ,CAAE,CAAC,CAAES,IAAI,CAAE,EAAR,CAAD,CADY,CAA1B,EAGH,CAJD,CAMA,GAAIC,CAAAA,gBAAgB,CAAGhG,QAAQ,CAAC,SAACiG,QAAD,CAAWC,QAAX,CAAwB,CACpDN,WAAW,CAAGD,SAAS,CAACQ,GAAV,CAAc,SAACC,IAAD,CAAU,CAClC,MAAOA,CAAAA,IAAI,CAACF,QAAL,GAAkBA,QAAlB,kBACIE,IADJ,EACUC,WAAW,CAAEJ,QADvB,oBAEIG,IAFJ,CAAP,CAGH,CAJa,CAAd,CAKAtE,QAAQ,CAACP,iBAAiB,CAACqE,WAAD,CAAlB,CAAR,CACH,CAP8B,CAO5B,IAP4B,CAA/B,CASA,mBACI,qDACI,2BAAK,eAAe,CAAE,KAAtB,CAA6B,KAAK,CAAE,CAAEU,UAAU,CAAE,MAAd,CAApC,eACI,oBAAC,SAAD,EACI,MAAM,CAAC,OADX,CAEI,KAAK,CAAC,OAFV,CAGI,QAAQ,CAAC,MAHb,CAII,IAAI,CAAEf,OAAO,CAACnD,QAJlB,CAKI,KAAK,CAAC,SALV,CAMI,KAAK,CAAEmD,OAAO,CAACc,WANnB,CAOI,QAAQ,CAAE,kBAACJ,QAAD,QACND,CAAAA,gBAAgB,CAACC,QAAD,CAAWV,OAAO,CAACW,QAAnB,CADV,EAPd,EADJ,CADJ,cAcI,yCACQb,UADR,EAEI,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAd,CAAsBC,WAAW,CAAE,MAAnC,CAFX,CAGI,OAAO,CAAEV,OAHb,CAII,eAAe,CAAE,KAJrB,GAMKP,QANL,CAdJ,CADJ,CAyBH,CA5CD,CA8CA,mBACI,2BACI,KAAK,CAAE,CACHkB,eAAe,CAAE,MADd,CAEHC,SAAS,CAAE,MAFR,CAGHC,KAAK,CAAE,MAHJ,CADX,EAOK,GAPL,CAQKlD,cAAc,cACX,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADW,cAGX,oBAAC,KAAD,EACI,MAAM,CAAEE,MADZ,CAEI,KAAK,CAAE5D,CAAC,CAACgE,OAAF,CAAU/B,YAAV,EAA0BuB,SAA1B,CAAsCpB,QAFjD,CAGI,QAAQ,CAAE,kBAAC+D,QAAD,CAAc,CACpB,GAAInG,CAAC,CAACgE,OAAF,CAAU/B,YAAV,CAAJ,CAA6B,CACzBwB,YAAY,CAAC0C,QAAD,CAAZ,CACH,CAFD,IAEO,CACHnE,QAAQ,CAACP,iBAAiB,CAAC0E,QAAD,CAAlB,CAAR,CACH,CACJ,CATL,eAWI,oBAAC,MAAD,EAAQ,QAAQ,CAAC,QAAjB,eACI,oBAAC,OAAD,mBACI,oBAAC,UAAD,EACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAEpE,OAAO,CAAC8E,WAFvB,CAGI,WAAW,CAAE,qBAACxC,KAAD,CAAW,CACpBA,KAAK,CAACyC,cAAN,GACAnE,OAAO,CAAC,CAACD,IAAF,CAAP,CACAqE,UAAU,CAACnD,MAAD,CAAS,MAAT,CAAV,CACH,CAPL,eASI,oBAAC,cAAD,EACI,SAAS,CACLlB,IAAI,CACEX,OAAO,CAACiF,aADV,CAEEjF,OAAO,CAACkF,KAJtB,EATJ,CADJ,cAkBI,oBAAC,UAAD,EACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAElF,OAAO,CAAC8E,WAFvB,CAGI,WAAW,CAAE,qBAACxC,KAAD,CAAW,CACpBA,KAAK,CAACyC,cAAN,GACAjE,YAAY,CAAC,CAACD,SAAF,CAAZ,CACAmE,UAAU,CAACnD,MAAD,CAAS,WAAT,CAAV,CACH,CAPL,eASI,oBAAC,mBAAD,EACI,SAAS,CACLhB,SAAS,CACHb,OAAO,CAACiF,aADL,CAEHjF,OAAO,CAACkF,KAJtB,EATJ,CAlBJ,cAmCI,oBAAC,UAAD,EACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAElF,OAAO,CAAC8E,WAFvB,CAGI,WAAW,CAAE,qBAACxC,KAAD,CAAW,CACpBA,KAAK,CAACyC,cAAN,GACA/D,SAAS,CAAC,CAACD,MAAF,CAAT,CACAiE,UAAU,CAACnD,MAAD,CAAS,QAAT,CAAV,CACH,CAPL,eASI,oBAAC,gBAAD,EACI,SAAS,CACLd,MAAM,CACAf,OAAO,CAACiF,aADR,CAEAjF,OAAO,CAACkF,KAJtB,EATJ,CAnCJ,cAoDI,oBAAC,WAAD,EAAa,SAAS,CAAElF,OAAO,CAACmF,cAAhC,eACI,oBAAC,UAAD,EAAY,KAAK,CAAE,EAAnB,aADJ,cAEI,oBAAC,MAAD,EACI,KAAK,CAAE5E,QADX,CAEI,QAAQ,CAAE8B,YAFd,CAGI,OAAO,CAAEI,WAHb,CAII,MAAM,CAAEC,UAJZ,CAKI,OAAO,CAAC,mCALZ,CAMI,EAAE,CAAC,6BANP,CAOI,KAAK,CAAE,CAAEgC,WAAW,CAAE,MAAf,CAPX,eASI,oBAAC,QAAD,EAAU,KAAK,CAAC,YAAhB,eATJ,cAYI,oBAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,SAZJ,cAaI,oBAAC,QAAD,EAAU,KAAK,CAAC,QAAhB,WAbJ,cAcI,oBAAC,QAAD,EAAU,KAAK,CAAC,OAAhB,QAdJ,CAFJ,CApDJ,cAuEI,oBAAC,MAAD,EACI,OAAO,CAAC,WADZ,CAEI,OAAO,CAAE,iBAACpC,KAAD,CAAW,CAChBA,KAAK,CAACyC,cAAN,GACAK,WAAW,CAACvD,MAAD,CAAS,MAAT,CAAiBtB,QAAjB,CAAX,CACH,CALL,CAMI,SAAS,CAAEP,OAAO,CAACqF,SANvB,CAOI,gBAAgB,KAPpB,eASI,oBAAC,UAAD,EACI,OAAO,CAAC,OADZ,CAEI,SAAS,CAAErF,OAAO,CAACsF,YAFvB,eATJ,CAvEJ,cAuFI,oBAAC,SAAD,EACI,EAAE,CAAC,gBADP,CAEI,KAAK,CAAC,OAFV,CAGI,YAAY,CAAEpE,SAHlB,CAII,KAAK,CAAE,CAAEwD,WAAW,CAAE,MAAf,CAJX,CAKI,QAAQ,CAAE,kBAACa,CAAD,CAAO,CACblE,mBAAmB,CAAC,IAAD,CAAnB,CACA8B,WAAW,CAACoC,CAAC,CAAChD,MAAF,CAASC,KAAV,CAAX,CACH,CARL,CASI,SAAS,CAAExC,OAAO,CAACmF,cATvB,EAvFJ,cAkGI,oBAAC,gBAAD,EACI,SAAS,CACL/D,gBAAgB,CACVpB,OAAO,CAACwF,aADE,CAEVxF,OAAO,CAACyF,gBAJtB,CAMI,IAAI,CAAE,EANV,EAlGJ,cA0GI,oBAAC,UAAD,EACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAEzF,OAAO,CAAC8E,WAFvB,CAGI,KAAK,CAAE,CAAEL,UAAU,CAAE,KAAd,CAHX,CAII,OAAO,CAAE,kBAAM,CACX,GAAIxG,CAAC,CAACgE,OAAF,CAAU/B,YAAV,CAAJ,CAA6B,CACzB,OACH,CACDqB,YAAY,CAAC,IAAD,CAAZ,CACArD,KAAK,CACA0E,IADL,CACU,aADV,CACyB,CACjBC,EAAE,CAAE3C,YAAY,CAAC4C,GADA,CAEjBV,OAAO,CAAEF,IAAI,CAACwD,SAAL,CAAerF,QAAf,CAFQ,CAGjBY,KAAK,CAAEf,YAAY,CAACe,KAHH,CADzB,EAMK8B,IANL,CAMU,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CARL,EASA2C,UAAU,CAAC,UAAM,CACbpE,YAAY,CAAC,KAAD,CAAZ,CACH,CAFS,CAEP,IAFO,CAAV,CAGH,CArBL,eAuBI,oBAAC,QAAD,EAAU,SAAS,CAAEvB,OAAO,CAACkF,KAA7B,EAvBJ,CA1GJ,cAmII,oBAAC,gBAAD,EACI,SAAS,CACL5D,SAAS,CACHtB,OAAO,CAAC4F,MADL,CAEH5F,OAAO,CAAC6F,SAJtB,CAMI,IAAI,CAAE,EANV,EAnIJ,cA2II,oBAAC,UAAD,EAAY,OAAO,CAAE,yBAAMzC,CAAAA,MAAM,EAAZ,EAArB,CAAqC,SAAS,CAAEpD,OAAO,CAAC8E,WAAxD,eACI,oBAAC,aAAD,EAAe,SAAS,CAAE9E,OAAO,CAACkF,KAAlC,EADJ,CA3IJ,CADJ,CAXJ,cA4JI,oBAAC,QAAD,EACI,aAAa,CAAElD,aADnB,CAEI,UAAU,CAAEF,UAFhB,CAGI,SAAS,CAAE,mBAACQ,KAAD,CAAW,CAClB,GAAItE,QAAQ,CAAC,OAAD,CAAUsE,KAAV,CAAZ,CAA8B,CAC1BA,KAAK,CAACyC,cAAN,GACAxD,YAAY,CAAC,IAAD,CAAZ,CACArD,KAAK,CACA0E,IADL,CACU,aADV,CACyB,CACjBC,EAAE,CAAE3C,YAAY,CAAC4C,GADA,CAEjBV,OAAO,CAAEF,IAAI,CAACwD,SAAL,CAAerF,QAAf,CAFQ,CADzB,EAKK0C,IALL,CAKU,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAPL,EAQA2C,UAAU,CAAC,UAAM,CACbpE,YAAY,CAAC,KAAD,CAAZ,CACH,CAFS,CAEP,IAFO,CAAV,CAGH,CACJ,CAnBL,EA5JJ,CAXR,CADJ,CAiMH,CAhVD,CAkVA,GAAMyD,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACnD,MAAD,CAASiE,MAAT,CAAoB,CACnC,GAAMC,CAAAA,QAAQ,CAAGC,YAAY,CAACnE,MAAD,CAASiE,MAAT,CAA7B,CAEA,GAAIC,QAAJ,CAAc,CACVxH,MAAM,CAAC0H,UAAP,CAAkBpE,MAAlB,CAA0BiE,MAA1B,EACH,CAFD,IAEO,CACHvH,MAAM,CAAC2H,OAAP,CAAerE,MAAf,CAAuBiE,MAAvB,CAA+B,IAA/B,EACH,CACJ,CARD,CAUA,GAAMV,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACvD,MAAD,CAASiE,MAAT,CAAiBvF,QAAjB,CAA8B,CAC9C,GAAMwF,CAAAA,QAAQ,CAAGI,aAAa,CAACtE,MAAD,CAASiE,MAAT,CAA9B,CACA,GAAMzB,CAAAA,QAAQ,CAAG+B,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,IAAhB,CAAuB,CAAlC,CAAjB,CAEA7H,UAAU,CAAC8H,QAAX,CAAoB1E,MAApB,CAA4B,CACxB8B,IAAI,CAAEoC,QAAQ,CAAG,SAAH,CAAe,MADL,CAExBxF,QAAQ,CAARA,QAFwB,CAGxBiE,WAAW,CAAE,SAHW,CAIxBH,QAAQ,CAARA,QAJwB,CAA5B,EAMH,CAVD,CAYA,GAAM2B,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACnE,MAAD,CAASiE,MAAT,CAAoB,CACrC,GAAMZ,CAAAA,KAAK,CAAG3G,MAAM,CAAC2G,KAAP,CAAarD,MAAb,CAAd,CACA,MAAOqD,CAAAA,KAAK,CAAGA,KAAK,CAACY,MAAD,CAAL,GAAkB,IAArB,CAA4B,KAAxC,CACH,CAHD,CAKA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACtE,MAAD,CAASiE,MAAT,CAAoB,mBACtBvH,MAAM,CAACiI,KAAP,CAAa3E,MAAb,CAAqB,CACjC4E,KAAK,CAAE,eAACC,CAAD,QAAOA,CAAAA,CAAC,CAAC/C,IAAF,GAAWmC,MAAlB,EAD0B,CAArB,CADsB,gDAC/BW,KAD+B,mBAKtC,MAAO,CAAC,CAACA,KAAT,CACH,CAND,CAQA,GAAME,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,OAAoC,IAAjCnD,CAAAA,UAAiC,OAAjCA,UAAiC,CAArBC,QAAqB,OAArBA,QAAqB,CAAXmD,IAAW,OAAXA,IAAW,CAC7C,GAAIA,IAAI,CAACjG,IAAT,CAAe,CACX8C,QAAQ,cAAG,kCAASA,QAAT,CAAX,CACH,CAED,GAAImD,IAAI,CAAC7F,MAAT,CAAiB,CACb0C,QAAQ,cAAG,8BAAKA,QAAL,CAAX,CACH,CAED,GAAImD,IAAI,CAAC/F,SAAT,CAAoB,CAChB4C,QAAQ,cAAG,6BAAIA,QAAJ,CAAX,CACH,CAED,mBAAO,2BAAUD,UAAV,CAAuBC,QAAvB,CAAP,CACH,CAdD,CAgBA,GAAMjC,CAAAA,UAAU,CAAG,CACf,CACIiC,QAAQ,CAAE,CACN,CACIS,IAAI,CAAE,8CADV,CADM,CADd,CADe,CAAnB,CAUA,cAAenE,CAAAA,UAAf","sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/javascript';\nimport 'brace/mode/python';\nimport 'brace/mode/html';\nimport 'brace/mode/mysql'\nimport 'brace/theme/monokai';\nimport isHotkey from 'is-hotkey';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { debounce } from '../utils/helpers';\n\n// Slate\nimport { Editable, withReact, Slate } from 'slate-react';\nimport { Editor, createEditor, Transforms } from 'slate';\n\n// Material UI\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport FormatUnderlineIcon from '@material-ui/icons/FormatUnderlined';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport useStyles from '../CSS/textEditorStyles';\n\nimport { setCurEditorValue, updateNotesInFolder } from '../actions/noteActions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Typography } from '@material-ui/core';\n\nconst TextEditor = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const selectedNote = useSelector((state) => state.notes.selectedNote);\n    const noteJSON = useSelector((state) => state.notes.curEditorJSON);\n\n    const [language, setLanguage] = useState('javascript');\n    const [open, setOpen] = useState(false);\n    const [bold, setBold] = useState(false);\n    const [underline, setUnderline] = useState(false);\n    const [italic, setItalic] = useState(false);\n    const [noteTitle, setNoteTitle] = useState(selectedNote.title);\n    const [updateTitleCheck, setUpdateTitleCheck] = useState(false);\n    const [saveCheck, setSaveCheck] = useState(false);\n    const [tempValue, setTempValue] = useState(noNoteText);\n    const [redirectToHome, setRedirectToHome] = useState(false);\n\n    const editor = useMemo(() => withReact(createEditor()), []);\n    const renderLeaf = useCallback((props) => <Leaf {...props} />, []);\n    const renderElement = useCallback((props) => <Element {...props} />, []);\n\n    useEffect(() => {\n        if (!_.isEmpty(selectedNote)) {\n            dispatch(setCurEditorValue(JSON.parse(selectedNote.content)));\n        }\n        setBold(false);\n        setUnderline(false);\n        setItalic(false);\n        setNoteTitle(selectedNote.title);\n    }, [selectedNote]);\n\n    const handleChange = (event) => {\n        setLanguage(event.target.value);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleTitleChange = (event) => {\n        setNoteTitle(event.target.value);\n        debounce(() => {\n            axios\n                .post('/updateNote', {\n                    id: selectedNote._id,\n                    content: selectedNote.content,\n                    title: noteTitle,\n                })\n                .then((res) => {\n                    console.log(res);\n                });\n        }, 1000);\n        setUpdateTitleCheck(false);\n    };\n\n    const updateTitle = debounce((value) => {\n        axios\n            .post('/updateNote', {\n                id: selectedNote._id,\n                content: selectedNote.content,\n                title: value,\n            })\n            .then((res) => {\n                console.log(res);\n            });\n        setUpdateTitleCheck(false);\n    }, 3000);\n\n    const logout = () => {\n        axios\n            .get('/logout')\n            .then((res) => res.data)\n            .then((data) => {\n                if (data.logout) {\n                    setRedirectToHome(true);\n                }\n            });\n    };\n\n    const Element = (props) => {\n        const { attributes, children, element } = props;\n        switch (element.type) {\n            case 'code':\n                return <AceElement {...props} />;\n            default:\n                return (\n                    <p style={{ fontSize: '16px' }} {...attributes}>\n                        {children}\n                    </p>\n                );\n        }\n    };\n\n    const AceElement = ({ attributes, children, element }) => {\n        const noteJSON2 = useSelector((state) => state.notes.curEditorJSON);\n        var updatedCode = [];\n\n        const onClick = () => {\n            Editor.insertNode(editor, {\n                children: [{ text: '' }],\n            });\n        };\n\n        var handleCodeChange = debounce((newValue, editorId) => {\n            updatedCode = noteJSON2.map((node) => {\n                return node.editorId === editorId\n                    ? { ...node, editorValue: newValue }\n                    : { ...node };\n            });\n            dispatch(setCurEditorValue(updatedCode));\n        }, 1500);\n\n        return (\n            <>\n                <div contentEditable={false} style={{ marginLeft: '10px' }}>\n                    <AceEditor\n                        height=\"250px\"\n                        width=\"600px\"\n                        fontSize='14px'\n                        mode={element.language}\n                        theme=\"monokai\"\n                        value={element.editorValue}\n                        onChange={(newValue) =>\n                            handleCodeChange(newValue, element.editorId)\n                        }\n                    />\n                </div>\n                <p\n                    {...attributes}\n                    style={{ marginLeft: '10px', marginRight: '10px' }}\n                    onClick={onClick}\n                    contentEditable={false}\n                >\n                    {children}\n                </p>\n            </>\n        );\n    };\n\n    return (\n        <div\n            style={{\n                backgroundColor: '#fff',\n                minHeight: '50vh',\n                width: '50vw',\n            }}\n        >\n            {' '}\n            {redirectToHome ? (\n                <Redirect to=\"/\" />\n            ) : (\n                <Slate\n                    editor={editor}\n                    value={_.isEmpty(selectedNote) ? tempValue : noteJSON}\n                    onChange={(newValue) => {\n                        if (_.isEmpty(selectedNote)) {\n                            setTempValue(newValue);\n                        } else {\n                            dispatch(setCurEditorValue(newValue));\n                        }\n                    }}\n                >\n                    <AppBar position=\"static\">\n                        <Toolbar>\n                            <IconButton\n                                edge=\"start\"\n                                className={classes.markButtons}\n                                onMouseDown={(event) => {\n                                    event.preventDefault();\n                                    setBold(!bold);\n                                    toggleMark(editor, 'bold');\n                                }}\n                            >\n                                <FormatBoldIcon\n                                    className={\n                                        bold\n                                            ? classes.marksSelected\n                                            : classes.marks\n                                    }\n                                />\n                            </IconButton>\n                            <IconButton\n                                edge=\"start\"\n                                className={classes.markButtons}\n                                onMouseDown={(event) => {\n                                    event.preventDefault();\n                                    setUnderline(!underline);\n                                    toggleMark(editor, 'underline');\n                                }}\n                            >\n                                <FormatUnderlineIcon\n                                    className={\n                                        underline\n                                            ? classes.marksSelected\n                                            : classes.marks\n                                    }\n                                />\n                            </IconButton>\n                            <IconButton\n                                edge=\"start\"\n                                className={classes.markButtons}\n                                onMouseDown={(event) => {\n                                    event.preventDefault();\n                                    setItalic(!italic);\n                                    toggleMark(editor, 'italic');\n                                }}\n                            >\n                                <FormatItalicIcon\n                                    className={\n                                        italic\n                                            ? classes.marksSelected\n                                            : classes.marks\n                                    }\n                                />\n                            </IconButton>\n                            <FormControl className={classes.editorLangForm}>\n                                <InputLabel style={{}}>Language</InputLabel>\n                                <Select\n                                    value={language}\n                                    onChange={handleChange}\n                                    onClose={handleClose}\n                                    onOpen={handleOpen}\n                                    labelId=\"demo-controlled-open-select-label\"\n                                    id=\"demo-controlled-open-select\"\n                                    style={{ marginRight: '10px' }}\n                                >\n                                    <MenuItem value=\"javascript\">\n                                        Javascript\n                                    </MenuItem>\n                                    <MenuItem value=\"html\">HTML</MenuItem>\n                                    <MenuItem value=\"python\">Python</MenuItem>\n                                    <MenuItem value=\"mysql\">SQL</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <Button\n                                variant=\"contained\"\n                                onClick={(event) => {\n                                    event.preventDefault();\n                                    toggleBlock(editor, 'code', language);\n                                }}\n                                className={classes.addEditor}\n                                disableElevation\n                            >\n                                <Typography\n                                    variant=\"body2\"\n                                    className={classes.addEditorTxt}\n                                >\n                                    Add Editor\n                                </Typography>\n                            </Button>\n                            <TextField\n                                id=\"standard-basic\"\n                                label=\"Title\"\n                                defaultValue={noteTitle}\n                                style={{ marginRight: '10px' }}\n                                onChange={(e) => {\n                                    setUpdateTitleCheck(true);\n                                    updateTitle(e.target.value);\n                                }}\n                                className={classes.editorLangForm}\n                            />\n                            <CircularProgress\n                                className={\n                                    updateTitleCheck\n                                        ? classes.updatingTitle\n                                        : classes.notUpdatingTitle\n                                }\n                                size={20}\n                            />\n                            <IconButton\n                                edge=\"start\"\n                                className={classes.markButtons}\n                                style={{ marginLeft: '1vw' }}\n                                onClick={() => {\n                                    if (_.isEmpty(selectedNote)) {\n                                        return;\n                                    }\n                                    setSaveCheck(true);\n                                    axios\n                                        .post('/updateNote', {\n                                            id: selectedNote._id,\n                                            content: JSON.stringify(noteJSON),\n                                            title: selectedNote.title,\n                                        })\n                                        .then((res) => {\n                                            console.log(res);\n                                        });\n                                    setTimeout(() => {\n                                        setSaveCheck(false);\n                                    }, 1000);\n                                }}\n                            >\n                                <SaveIcon className={classes.marks} />\n                            </IconButton>\n                            <CircularProgress\n                                className={\n                                    saveCheck\n                                        ? classes.saving\n                                        : classes.notSaving\n                                }\n                                size={20}\n                            />\n                            <IconButton onClick={() => logout()} className={classes.markButtons}>\n                                <ExitToAppIcon className={classes.marks}/>\n                            </IconButton>\n                        </Toolbar>\n                    </AppBar>\n                    <Editable\n                        renderElement={renderElement}\n                        renderLeaf={renderLeaf}\n                        onKeyDown={(event) => {\n                            if (isHotkey('mod+s', event)) {\n                                event.preventDefault();\n                                setSaveCheck(true);\n                                axios\n                                    .post('/updateNote', {\n                                        id: selectedNote._id,\n                                        content: JSON.stringify(noteJSON),\n                                    })\n                                    .then((res) => {\n                                        console.log(res);\n                                    });\n                                setTimeout(() => {\n                                    setSaveCheck(false);\n                                }, 1000);\n                            }\n                        }}\n                    />\n                </Slate>\n            )}\n        </div>\n    );\n};\n\nconst toggleMark = (editor, format) => {\n    const isActive = isMarkActive(editor, format);\n\n    if (isActive) {\n        Editor.removeMark(editor, format);\n    } else {\n        Editor.addMark(editor, format, true);\n    }\n};\n\nconst toggleBlock = (editor, format, language) => {\n    const isActive = isBlockActive(editor, format);\n    const editorId = Math.floor(Math.random() * 1000 + 1);\n\n    Transforms.setNodes(editor, {\n        type: isActive ? 'default' : 'code',\n        language,\n        editorValue: 'starter',\n        editorId,\n    });\n};\n\nconst isMarkActive = (editor, format) => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n};\n\nconst isBlockActive = (editor, format) => {\n    const [match] = Editor.nodes(editor, {\n        match: (n) => n.type === format,\n    });\n\n    return !!match;\n};\n\nconst Leaf = ({ attributes, children, leaf }) => {\n    if (leaf.bold) {\n        children = <strong>{children}</strong>;\n    }\n\n    if (leaf.italic) {\n        children = <em>{children}</em>;\n    }\n\n    if (leaf.underline) {\n        children = <u>{children}</u>;\n    }\n\n    return <span {...attributes}>{children}</span>;\n};\n\nconst noNoteText = [\n    {\n        children: [\n            {\n                text: 'No note selected - Changes will not be saved',\n            },\n        ],\n    },\n];\n\nexport default TextEditor;\n"]},"metadata":{},"sourceType":"module"}